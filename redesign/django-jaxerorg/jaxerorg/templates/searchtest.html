{% extends "base.html" %}
	{% block content %}
	<div style="padding:10px; width:400px; margin:10px auto;">
		<div id="multiline" style="margin:50px 0;">
			<form action="" method="post" id="messageForm">
				<fieldset class="full-input">
					<ul>
						<li>
							<label for="id_recipient" >recipients:</label>
							<input type="text" id="id_recipient" />
						</li>
						<li>
							<label for="id_subject" >subject:</label>
							<input type="text" id="id_subject" />
						</li>
						<li>
							<label for="id_body" >message:</label>
							<textarea type="text" id="id_body" rows="10" ></textarea>
						</li>
						<li>
							<span class="dark_button_wrap"><a href="#" class="dark_button" id="submitbtn">send message</a></span>
						</li>
					</ul>
					<input type="text" id="memsearch" class="small-input"/>
			</fieldset>
			</form>
		</div>
	</div>
	{% endblock %}
		{% block extrascripts %}
		<script type="text/javascript">
			window.addEvent('domready', function(){
					var a = new UI.MultiLineAutoComplete({
						searchFieldID:'memsearch',
						filterSubset:true,
						url:'{% url jaxerprofile_ajax_member_search %}',
						injectChoice:function(token){
							var choice = new Element('li',{
								html:this.markQueryValue(token.user)
							});
							choice.store('ct', token.ct_id);
							choice.store('obj_id', token.obj_id);
							choice.inputValue = token.user;
							this.addChoiceEvents(choice);
							choice.inject(this.choices);
						},
						onInsert:function(option){
							Log.log(option);
						},
						onRemove:function(){
							Log.log('remove');
						}

					});
					$('submitbtn').addEvent('click', function(e){
						e.stop();
						a.setData();
					});
			});
		</script>
		
		{% endblock %}